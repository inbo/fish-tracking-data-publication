<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Explore ETN data â€¢ etn</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Explore ETN data">
<meta property="og:description" content="">
<meta property="og:image" content="https://inbo.github.io/etn/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">etn</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0.9140</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/etn.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/data_exploration.html">Explore ETN data</a>
    </li>
    <li>
      <a href="../articles/etn_fields.html">ETN field definitions</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/inbo/etn">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="data_exploration_files/htmlwidgets-1.5.3/htmlwidgets.js"></script><script src="data_exploration_files/jquery-1.12.4/jquery.min.js"></script><link href="data_exploration_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="data_exploration_files/leaflet-1.3.1/leaflet.js"></script><link href="data_exploration_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="data_exploration_files/proj4-2.6.2/proj4.min.js"></script><script src="data_exploration_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="data_exploration_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="data_exploration_files/leaflet-binding-2.0.4.1/leaflet.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Explore ETN data</h1>
                        <h4 class="author">Damiano Oldoni</h4>
            
            <h4 class="date">2021-03-16</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/inbo/etn/blob/master/vignettes/data_exploration.Rmd"><code>vignettes/data_exploration.Rmd</code></a></small>
      <div class="hidden name"><code>data_exploration.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>In this vignette we show a typical workflow using <code>etn</code> package to retrieve data, the <a href="https://dplyr.tidyverse.org/"><code>dplyr</code></a> package (part of the <a href="https://www.tidyverse.org/">tidyverse</a> R pacakges collection) to perform basic data exploration and some other packages for visualization (<code>leaflet</code>) and date-time data (<code>lubridate</code>).</p>
<p>To start, load the <code>etn</code>package:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(etn)</a></code></pre></div>
<p>and connect with your user credentials (as received by VLIZ) to the database:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">con &lt;-<span class="st"> </span><span class="kw"><a href="../reference/connect_to_etn.html">connect_to_etn</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/Sys.getenv.html">Sys.getenv</a></span>(<span class="st">"userid"</span>), <span class="kw"><a href="https://rdrr.io/r/base/Sys.getenv.html">Sys.getenv</a></span>(<span class="st">"pwd"</span>))</a></code></pre></div>
<p>We also load other packages:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(dplyr)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(lubridate)</a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(leaflet)</a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(htmltools)</a></code></pre></div>
</div>
<div id="select-projects-of-interest" class="section level2">
<h2 class="hasAnchor">
<a href="#select-projects-of-interest" class="anchor"></a>Select project(s) of interest</h2>
<p>First we need to know which projects we need. As the project names are not easy to remember, it is always good to start by an overview of all projects we have access to:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">my_projects &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_projects.html">get_projects</a></span>()</a></code></pre></div>
<p>Typically we are interested in animal projects. You can filter by <code>project_type</code>:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">my_projects&lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="st">  </span>my_projects <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(project_type <span class="op">==</span><span class="st"> "animal"</span>)</a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co"># show the first 10 projects</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5">my_projects <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="co">#&gt; # A tibble: 10 x 15</span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="co">#&gt;       pk project_code project_type application_type telemetry_type project_name</span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;        &lt;chr&gt;            &lt;chr&gt;          &lt;chr&gt;       </span></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="co">#&gt;  1   793 2004_Gudena  animal       acoustic_telemeâ€¦ Acoustic       2004_Gudena </span></a>
<a class="sourceLine" id="cb5-11" data-line-number="11"><span class="co">#&gt;  2    16 2010_phd_reâ€¦ animal       acoustic_telemeâ€¦ Acoustic       2010_phd_reâ€¦</span></a>
<a class="sourceLine" id="cb5-12" data-line-number="12"><span class="co">#&gt;  3   841 2010_phd_reâ€¦ animal       acoustic_telemeâ€¦ Acoustic       2010_phd_reâ€¦</span></a>
<a class="sourceLine" id="cb5-13" data-line-number="13"><span class="co">#&gt;  4   760 2011_Loire   animal       acoustic_telemeâ€¦ Acoustic       2011_Loire  </span></a>
<a class="sourceLine" id="cb5-14" data-line-number="14"><span class="co">#&gt;  5    20 2011_rivierâ€¦ animal       acoustic_telemeâ€¦ Acoustic       2011 Rivierâ€¦</span></a>
<a class="sourceLine" id="cb5-15" data-line-number="15"><span class="co">#&gt;  6   754 2011_Warnow  animal       acoustic_telemeâ€¦ Acoustic       2011_Warnow </span></a>
<a class="sourceLine" id="cb5-16" data-line-number="16"><span class="co">#&gt;  7    15 2012_leopolâ€¦ animal       acoustic_telemeâ€¦ Acoustic       2012 Leopolâ€¦</span></a>
<a class="sourceLine" id="cb5-17" data-line-number="17"><span class="co">#&gt;  8    18 2013_albertâ€¦ animal       acoustic_telemeâ€¦ Acoustic       2013 Albertâ€¦</span></a>
<a class="sourceLine" id="cb5-18" data-line-number="18"><span class="co">#&gt;  9   757 2013_Foyle   animal       acoustic_telemeâ€¦ Acoustic       2013_Foyle  </span></a>
<a class="sourceLine" id="cb5-19" data-line-number="19"><span class="co">#&gt; 10    21 2014_demer   animal       acoustic_telemeâ€¦ Acoustic       2014 Demer  </span></a>
<a class="sourceLine" id="cb5-20" data-line-number="20"><span class="co">#&gt; # â€¦ with 9 more variables: coordinating_organization &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb5-21" data-line-number="21"><span class="co">#&gt; #   principal_investigator &lt;chr&gt;, principal_investigator_email &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb5-22" data-line-number="22"><span class="co">#&gt; #   start_date &lt;date&gt;, end_date &lt;date&gt;, latitude &lt;dbl&gt;, longitude &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb5-23" data-line-number="23"><span class="co">#&gt; #   moratorium &lt;chr&gt;, imis_dataset_id &lt;int&gt;</span></a></code></pre></div>
<p>or you can specify the type of project in the <code><a href="../reference/get_projects.html">get_projects()</a></code> function directly:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">my_projects &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_projects.html">get_projects</a></span>(<span class="dt">project_type =</span> <span class="st">"animal"</span>)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="co"># show the first 10 projects</span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3">my_projects <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="co">#&gt; # A tibble: 10 x 15</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="co">#&gt;       pk project_code project_type application_type telemetry_type project_name</span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;        &lt;chr&gt;            &lt;chr&gt;          &lt;chr&gt;       </span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8"><span class="co">#&gt;  1   793 2004_Gudena  animal       acoustic_telemeâ€¦ Acoustic       2004_Gudena </span></a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="co">#&gt;  2    16 2010_phd_reâ€¦ animal       acoustic_telemeâ€¦ Acoustic       2010_phd_reâ€¦</span></a>
<a class="sourceLine" id="cb6-10" data-line-number="10"><span class="co">#&gt;  3   841 2010_phd_reâ€¦ animal       acoustic_telemeâ€¦ Acoustic       2010_phd_reâ€¦</span></a>
<a class="sourceLine" id="cb6-11" data-line-number="11"><span class="co">#&gt;  4   760 2011_Loire   animal       acoustic_telemeâ€¦ Acoustic       2011_Loire  </span></a>
<a class="sourceLine" id="cb6-12" data-line-number="12"><span class="co">#&gt;  5    20 2011_rivierâ€¦ animal       acoustic_telemeâ€¦ Acoustic       2011 Rivierâ€¦</span></a>
<a class="sourceLine" id="cb6-13" data-line-number="13"><span class="co">#&gt;  6   754 2011_Warnow  animal       acoustic_telemeâ€¦ Acoustic       2011_Warnow </span></a>
<a class="sourceLine" id="cb6-14" data-line-number="14"><span class="co">#&gt;  7    15 2012_leopolâ€¦ animal       acoustic_telemeâ€¦ Acoustic       2012 Leopolâ€¦</span></a>
<a class="sourceLine" id="cb6-15" data-line-number="15"><span class="co">#&gt;  8    18 2013_albertâ€¦ animal       acoustic_telemeâ€¦ Acoustic       2013 Albertâ€¦</span></a>
<a class="sourceLine" id="cb6-16" data-line-number="16"><span class="co">#&gt;  9   757 2013_Foyle   animal       acoustic_telemeâ€¦ Acoustic       2013_Foyle  </span></a>
<a class="sourceLine" id="cb6-17" data-line-number="17"><span class="co">#&gt; 10    21 2014_demer   animal       acoustic_telemeâ€¦ Acoustic       2014 Demer  </span></a>
<a class="sourceLine" id="cb6-18" data-line-number="18"><span class="co">#&gt; # â€¦ with 9 more variables: coordinating_organization &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb6-19" data-line-number="19"><span class="co">#&gt; #   principal_investigator &lt;chr&gt;, principal_investigator_email &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb6-20" data-line-number="20"><span class="co">#&gt; #   start_date &lt;date&gt;, end_date &lt;date&gt;, latitude &lt;dbl&gt;, longitude &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb6-21" data-line-number="21"><span class="co">#&gt; #   moratorium &lt;chr&gt;, imis_dataset_id &lt;int&gt;</span></a></code></pre></div>
<p>Letâ€™s say we are interested in the data from projects <code>2012_leopoldkanaal</code> and <code>2013_albertkanaal</code>:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">projects_study &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"2014_demer"</span>, <span class="st">"2013_albertkanaal"</span>)</a></code></pre></div>
<p>We can get the time span of these projects by checking the columns <code>start_date</code> and <code>end_date</code>:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">my_projects <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(project_code <span class="op">%in%</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(projects_study)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(start_date, end_date)</a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="co">#&gt; # A tibble: 2 x 2</span></a>
<a class="sourceLine" id="cb8-5" data-line-number="5"><span class="co">#&gt;   start_date end_date  </span></a>
<a class="sourceLine" id="cb8-6" data-line-number="6"><span class="co">#&gt;   &lt;date&gt;     &lt;date&gt;    </span></a>
<a class="sourceLine" id="cb8-7" data-line-number="7"><span class="co">#&gt; 1 2013-10-10 2018-12-31</span></a>
<a class="sourceLine" id="cb8-8" data-line-number="8"><span class="co">#&gt; 2 2014-04-10 2015-02-13</span></a></code></pre></div>
</div>
<div id="data-exploration" class="section level2">
<h2 class="hasAnchor">
<a href="#data-exploration" class="anchor"></a>Data exploration</h2>
<div id="animals-under-study" class="section level3">
<h3 class="hasAnchor">
<a href="#animals-under-study" class="anchor"></a>Animals under study</h3>
<p>Which species and how many individuals have been tracked during these projects?</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">animals &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_animals.html">get_animals</a></span>(<span class="dt">animal_project_code =</span> projects_study)</a>
<a class="sourceLine" id="cb9-2" data-line-number="2">animals <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span>(scientific_name)</a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="co">#&gt; # A tibble: 6 x 2</span></a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="co">#&gt;   scientific_name        n</span></a>
<a class="sourceLine" id="cb9-6" data-line-number="6"><span class="co">#&gt;   &lt;chr&gt;              &lt;int&gt;</span></a>
<a class="sourceLine" id="cb9-7" data-line-number="7"><span class="co">#&gt; 1 Anguilla anguilla    161</span></a>
<a class="sourceLine" id="cb9-8" data-line-number="8"><span class="co">#&gt; 2 Petromyzon marinus     2</span></a>
<a class="sourceLine" id="cb9-9" data-line-number="9"><span class="co">#&gt; 3 Rutilus rutilus        2</span></a>
<a class="sourceLine" id="cb9-10" data-line-number="10"><span class="co">#&gt; 4 Salmo salar          134</span></a>
<a class="sourceLine" id="cb9-11" data-line-number="11"><span class="co">#&gt; 5 Silurus glanis         9</span></a>
<a class="sourceLine" id="cb9-12" data-line-number="12"><span class="co">#&gt; 6 Squalius cephalus      3</span></a></code></pre></div>
<p>Letâ€™s say we are interested in the tracking data of Wels catfish (<em>Silurus glanis</em>) between begin 2014 and end 2015:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">detections_silurus &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_detections.html">get_detections</a></span>(<span class="dt">animal_project_code =</span> projects_study,</a>
<a class="sourceLine" id="cb10-2" data-line-number="2">                                     <span class="dt">start_date =</span> <span class="st">"2014-01-01"</span>,</a>
<a class="sourceLine" id="cb10-3" data-line-number="3">                                     <span class="dt">end_date =</span> <span class="st">"2015-12-31"</span>,</a>
<a class="sourceLine" id="cb10-4" data-line-number="4">                                     <span class="dt">scientific_name =</span> <span class="st">"Silurus glanis"</span>)</a></code></pre></div>
</div>
<div id="detection-history" class="section level3">
<h3 class="hasAnchor">
<a href="#detection-history" class="anchor"></a>Detection history</h3>
<p>Which fishes have been detected (<code>animal_id</code>) and in which period?</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">detections_silurus_period &lt;-</a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="st">  </span>detections_silurus <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">date =</span> <span class="kw"><a href="http://lubridate.tidyverse.org/reference/date.html">date</a></span>(date_time)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(animal_id) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span>(<span class="dt">start =</span> <span class="kw"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span>(date),</a>
<a class="sourceLine" id="cb11-6" data-line-number="6">            <span class="dt">end =</span> <span class="kw"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span>(date))</a>
<a class="sourceLine" id="cb11-7" data-line-number="7"><span class="co">#&gt; `summarise()` ungrouping output (override with `.groups` argument)</span></a>
<a class="sourceLine" id="cb11-8" data-line-number="8">detections_silurus_period</a>
<a class="sourceLine" id="cb11-9" data-line-number="9"><span class="co">#&gt; # A tibble: 9 x 3</span></a>
<a class="sourceLine" id="cb11-10" data-line-number="10"><span class="co">#&gt;   animal_id start      end       </span></a>
<a class="sourceLine" id="cb11-11" data-line-number="11"><span class="co">#&gt;       &lt;int&gt; &lt;date&gt;     &lt;date&gt;    </span></a>
<a class="sourceLine" id="cb11-12" data-line-number="12"><span class="co">#&gt; 1       365 2014-05-26 2014-11-16</span></a>
<a class="sourceLine" id="cb11-13" data-line-number="13"><span class="co">#&gt; 2       366 2014-05-26 2015-12-02</span></a>
<a class="sourceLine" id="cb11-14" data-line-number="14"><span class="co">#&gt; 3       367 2014-06-18 2014-06-19</span></a>
<a class="sourceLine" id="cb11-15" data-line-number="15"><span class="co">#&gt; 4       368 2014-05-26 2015-05-24</span></a>
<a class="sourceLine" id="cb11-16" data-line-number="16"><span class="co">#&gt; 5       369 2014-05-21 2015-12-30</span></a>
<a class="sourceLine" id="cb11-17" data-line-number="17"><span class="co">#&gt; 6       370 2014-05-20 2014-11-16</span></a>
<a class="sourceLine" id="cb11-18" data-line-number="18"><span class="co">#&gt; 7       384 2014-04-24 2014-04-26</span></a>
<a class="sourceLine" id="cb11-19" data-line-number="19"><span class="co">#&gt; 8       385 2014-04-24 2015-02-10</span></a>
<a class="sourceLine" id="cb11-20" data-line-number="20"><span class="co">#&gt; 9       386 2014-04-24 2015-01-31</span></a></code></pre></div>
<p>We can also get the tracking duration:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">detections_silurus_duration &lt;-</a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="st">  </span>detections_silurus <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb12-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(animal_id) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb12-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span>(<span class="dt">duration =</span> <span class="kw"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span>(date_time) <span class="op">-</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span>(date_time))</a>
<a class="sourceLine" id="cb12-5" data-line-number="5"><span class="co">#&gt; `summarise()` ungrouping output (override with `.groups` argument)</span></a>
<a class="sourceLine" id="cb12-6" data-line-number="6">detections_silurus_duration</a>
<a class="sourceLine" id="cb12-7" data-line-number="7"><span class="co">#&gt; # A tibble: 9 x 2</span></a>
<a class="sourceLine" id="cb12-8" data-line-number="8"><span class="co">#&gt;   animal_id duration       </span></a>
<a class="sourceLine" id="cb12-9" data-line-number="9"><span class="co">#&gt;       &lt;int&gt; &lt;drtn&gt;         </span></a>
<a class="sourceLine" id="cb12-10" data-line-number="10"><span class="co">#&gt; 1       365 173.499595 days</span></a>
<a class="sourceLine" id="cb12-11" data-line-number="11"><span class="co">#&gt; 2       366 555.352697 days</span></a>
<a class="sourceLine" id="cb12-12" data-line-number="12"><span class="co">#&gt; 3       367   1.590671 days</span></a>
<a class="sourceLine" id="cb12-13" data-line-number="13"><span class="co">#&gt; 4       368 362.465162 days</span></a>
<a class="sourceLine" id="cb12-14" data-line-number="14"><span class="co">#&gt; 5       369 588.570231 days</span></a>
<a class="sourceLine" id="cb12-15" data-line-number="15"><span class="co">#&gt; 6       370 179.210486 days</span></a>
<a class="sourceLine" id="cb12-16" data-line-number="16"><span class="co">#&gt; 7       384   1.552512 days</span></a>
<a class="sourceLine" id="cb12-17" data-line-number="17"><span class="co">#&gt; 8       385 292.398831 days</span></a>
<a class="sourceLine" id="cb12-18" data-line-number="18"><span class="co">#&gt; 9       386 281.414630 days</span></a></code></pre></div>
<p>How many detections per fish?</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">detections_silurus <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(animal_id) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb13-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span>()</a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="co">#&gt; # A tibble: 9 x 2</span></a>
<a class="sourceLine" id="cb13-5" data-line-number="5"><span class="co">#&gt; # Groups:   animal_id [9]</span></a>
<a class="sourceLine" id="cb13-6" data-line-number="6"><span class="co">#&gt;   animal_id     n</span></a>
<a class="sourceLine" id="cb13-7" data-line-number="7"><span class="co">#&gt;       &lt;int&gt; &lt;int&gt;</span></a>
<a class="sourceLine" id="cb13-8" data-line-number="8"><span class="co">#&gt; 1       365  4878</span></a>
<a class="sourceLine" id="cb13-9" data-line-number="9"><span class="co">#&gt; 2       366  3030</span></a>
<a class="sourceLine" id="cb13-10" data-line-number="10"><span class="co">#&gt; 3       367   498</span></a>
<a class="sourceLine" id="cb13-11" data-line-number="11"><span class="co">#&gt; 4       368  7846</span></a>
<a class="sourceLine" id="cb13-12" data-line-number="12"><span class="co">#&gt; 5       369  3257</span></a>
<a class="sourceLine" id="cb13-13" data-line-number="13"><span class="co">#&gt; 6       370  4462</span></a>
<a class="sourceLine" id="cb13-14" data-line-number="14"><span class="co">#&gt; 7       384  2602</span></a>
<a class="sourceLine" id="cb13-15" data-line-number="15"><span class="co">#&gt; 8       385 33201</span></a>
<a class="sourceLine" id="cb13-16" data-line-number="16"><span class="co">#&gt; 9       386 21844</span></a></code></pre></div>
<p>Along how many deployments (stations) have the fishes been detected?</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">detections_silurus <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(animal_id) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span>(station_name) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span>()</a>
<a class="sourceLine" id="cb14-5" data-line-number="5"><span class="co">#&gt; # A tibble: 9 x 2</span></a>
<a class="sourceLine" id="cb14-6" data-line-number="6"><span class="co">#&gt; # Groups:   animal_id [9]</span></a>
<a class="sourceLine" id="cb14-7" data-line-number="7"><span class="co">#&gt;   animal_id     n</span></a>
<a class="sourceLine" id="cb14-8" data-line-number="8"><span class="co">#&gt;       &lt;int&gt; &lt;int&gt;</span></a>
<a class="sourceLine" id="cb14-9" data-line-number="9"><span class="co">#&gt; 1       365    16</span></a>
<a class="sourceLine" id="cb14-10" data-line-number="10"><span class="co">#&gt; 2       366    15</span></a>
<a class="sourceLine" id="cb14-11" data-line-number="11"><span class="co">#&gt; 3       367     1</span></a>
<a class="sourceLine" id="cb14-12" data-line-number="12"><span class="co">#&gt; 4       368    27</span></a>
<a class="sourceLine" id="cb14-13" data-line-number="13"><span class="co">#&gt; 5       369    17</span></a>
<a class="sourceLine" id="cb14-14" data-line-number="14"><span class="co">#&gt; 6       370    18</span></a>
<a class="sourceLine" id="cb14-15" data-line-number="15"><span class="co">#&gt; 7       384     2</span></a>
<a class="sourceLine" id="cb14-16" data-line-number="16"><span class="co">#&gt; 8       385    18</span></a>
<a class="sourceLine" id="cb14-17" data-line-number="17"><span class="co">#&gt; 9       386    15</span></a></code></pre></div>
</div>
<div id="deployments" class="section level3">
<h3 class="hasAnchor">
<a href="#deployments" class="anchor"></a>Deployments</h3>
<p>Which deployments have been involved?</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">deployments_silurus &lt;-</a>
<a class="sourceLine" id="cb15-2" data-line-number="2"><span class="st">  </span>detections_silurus <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb15-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="kw"><a href="https://dplyr.tidyverse.org/reference/reexports.html">starts_with</a></span>(<span class="st">"deploy"</span>), station_name) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb15-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span>()</a>
<a class="sourceLine" id="cb15-5" data-line-number="5">deployments_silurus</a>
<a class="sourceLine" id="cb15-6" data-line-number="6"><span class="co">#&gt; # A tibble: 64 x 4</span></a>
<a class="sourceLine" id="cb15-7" data-line-number="7"><span class="co">#&gt;    deploy_latitude deploy_longitude deployment_fk station_name</span></a>
<a class="sourceLine" id="cb15-8" data-line-number="8"><span class="co">#&gt;              &lt;dbl&gt;            &lt;dbl&gt;         &lt;int&gt; &lt;chr&gt;       </span></a>
<a class="sourceLine" id="cb15-9" data-line-number="9"><span class="co">#&gt;  1            51.0             5.04          1427 de-8        </span></a>
<a class="sourceLine" id="cb15-10" data-line-number="10"><span class="co">#&gt;  2            51.0             5.05          1437 de-9        </span></a>
<a class="sourceLine" id="cb15-11" data-line-number="11"><span class="co">#&gt;  3            51.0             5.03          1378 de-7        </span></a>
<a class="sourceLine" id="cb15-12" data-line-number="12"><span class="co">#&gt;  4            51.0             5.05          1428 de-10       </span></a>
<a class="sourceLine" id="cb15-13" data-line-number="13"><span class="co">#&gt;  5            51.0             5.06          2938 de-12       </span></a>
<a class="sourceLine" id="cb15-14" data-line-number="14"><span class="co">#&gt;  6            51.0             5.06          1433 de-14       </span></a>
<a class="sourceLine" id="cb15-15" data-line-number="15"><span class="co">#&gt;  7            51.0             5.06          1431 de-14a      </span></a>
<a class="sourceLine" id="cb15-16" data-line-number="16"><span class="co">#&gt;  8            51.0             4.99          1425 de-5        </span></a>
<a class="sourceLine" id="cb15-17" data-line-number="17"><span class="co">#&gt;  9            51.0             5.05          1429 de-11       </span></a>
<a class="sourceLine" id="cb15-18" data-line-number="18"><span class="co">#&gt; 10            51.0             5.06          1432 de-13       </span></a>
<a class="sourceLine" id="cb15-19" data-line-number="19"><span class="co">#&gt; # â€¦ with 54 more rows</span></a></code></pre></div>
<p>Create a map of the involved deployments:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/pkg/leaflet/man/leaflet.html">leaflet</a></span>(deployments_silurus) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/pkg/leaflet/man/map-layers.html">addTiles</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb16-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/pkg/leaflet/man/map-layers.html">addMarkers</a></span>(<span class="dt">lng =</span> <span class="op">~</span>deploy_longitude,</a>
<a class="sourceLine" id="cb16-4" data-line-number="4">             <span class="dt">lat =</span> <span class="op">~</span>deploy_latitude,</a>
<a class="sourceLine" id="cb16-5" data-line-number="5">             <span class="dt">popup =</span> <span class="op">~</span><span class="kw"><a href="https://rdrr.io/pkg/htmltools/man/htmlEscape.html">htmlEscape</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span>(station_name, <span class="st">" ("</span>, deployment_fk, <span class="st">")"</span>)))</a></code></pre></div>
<div id="htmlwidget-c967551a0a296240b77a" style="width:700px;height:432.632880098888px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-c967551a0a296240b77a">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addMarkers","args":[[50.991246,50.9912632,50.9909004,50.9916225,50.9911178,50.9902591,50.99004,51.0026609,50.9922283,50.9918161,51.02032,50.9876189,50.9849358,50.9847044,51.0028729,51.0028729,50.9942609,50.9898768,51.0089239,50.9851617,51.01136918,51.02082596,51.025057,51.02483717,51.0340958,51.05546566,51.05546566,51.05546566,51.0340958,50.9911178,50.9843681,50.9833902,50.98197,50.9833902,50.9901667,50.9843681,51.05546566,51.05546566,51.0340958,51.02483717,51.025057,51.11414,51.12287,51.09258,51.03203,51.14319,51.11414,51.14319,51.19069,51.19068,51.14222,50.99004,50.9902591,50.9911178,50.9912632,50.991246,50.9909004,50.9909004,50.9909004,50.991246,50.9902591,50.99004,51.05593,50.9902591],[5.0403814,5.049155,5.0310774,5.0542423,5.0574492,5.0602737,5.060056,4.9914479,5.0549485,5.0578433,3.96965,5.0742895,5.075274,5.0765513,4.9333539,4.9333539,4.8938203,5.0152068,4.9623949,4.8410025,4.520968635,4.498485779,4.495476,4.495207458,4.471940005,4.442865645,4.442865645,4.442865645,4.471940005,5.0574492,5.0725863,5.0759855,5.0780232,5.0759855,5.0616675,5.0725863,4.442865645,4.442865645,4.471940005,4.495207458,4.495476,4.24123,4.2184,4.17083,4.18166,4.33078,4.24123,4.33078,4.32954,4.33602,4.32646,5.060056,5.0602737,5.0574492,5.049155,5.0403814,5.0310774,5.0310774,5.0310774,5.0403814,5.0602737,5.060056,4.20024,5.0602737],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["de-8 (1427)","de-9 (1437)","de-7 (1378)","de-10 (1428)","de-12 (2938)","de-14 (1433)","de-14a (1431)","de-5 (1425)","de-11 (1429)","de-13 (1432)","s-2a (1379)","de-18 (1439)","de-19 (1436)","de-20 (1440)","de-3 (1381)","de-3 (2869)","de-2 (1478)","de-6 (1663)","de-4 (1662)","de-1 (1424)","M-1 (1800)","M-2 (1805)","M-4A (1832)","M-4 (1762)","M-5 (1758)","M-6 (1738)","M-6 (1739)","M-6 (1740)","M-5 (1760)","de-12 (1656)","de-21 (1659)","de-22 (1660)","de-23 (1441)","de-22 (2933)","de-16 (1434)","de-21 (1384)","M-6 (1736)","M-6 (1737)","M-5 (1757)","M-4 (1761)","M-4A (1831)","s-7 (1499)","s-6 (1498)","s-5 (1497)","s-4a (1469)","s-8 (1500)","s-7 (1715)","s-8 (1696)","s-9 (1702)","s-9a (1608)","s-8a (1607)","de-14a (1506)","de-14 (1592)","de-12 (1470)","de-9 (1588)","de-8 (1573)","de-7 (1593)","de-7 (1734)","de-7 (1735)","de-8 (1745)","de-14 (1754)","de-14a (1810)","de-12 (1780)","de-14 (1755)"],null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[50.98197,51.19069],"lng":[3.96965,5.0780232]}},"evals":[],"jsHooks":[]}</script><p>Sometimes itâ€™s interesting to know the number of detections per deployment:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1">detections_silurus <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(deployment_fk, station_name) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb17-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span>()</a>
<a class="sourceLine" id="cb17-4" data-line-number="4"><span class="co">#&gt; # A tibble: 64 x 3</span></a>
<a class="sourceLine" id="cb17-5" data-line-number="5"><span class="co">#&gt; # Groups:   deployment_fk, station_name [64]</span></a>
<a class="sourceLine" id="cb17-6" data-line-number="6"><span class="co">#&gt;    deployment_fk station_name     n</span></a>
<a class="sourceLine" id="cb17-7" data-line-number="7"><span class="co">#&gt;            &lt;int&gt; &lt;chr&gt;        &lt;int&gt;</span></a>
<a class="sourceLine" id="cb17-8" data-line-number="8"><span class="co">#&gt;  1          1378 de-7         13605</span></a>
<a class="sourceLine" id="cb17-9" data-line-number="9"><span class="co">#&gt;  2          1379 s-2a           116</span></a>
<a class="sourceLine" id="cb17-10" data-line-number="10"><span class="co">#&gt;  3          1381 de-3            27</span></a>
<a class="sourceLine" id="cb17-11" data-line-number="11"><span class="co">#&gt;  4          1384 de-21          227</span></a>
<a class="sourceLine" id="cb17-12" data-line-number="12"><span class="co">#&gt;  5          1424 de-1           368</span></a>
<a class="sourceLine" id="cb17-13" data-line-number="13"><span class="co">#&gt;  6          1425 de-5          1685</span></a>
<a class="sourceLine" id="cb17-14" data-line-number="14"><span class="co">#&gt;  7          1427 de-8         15642</span></a>
<a class="sourceLine" id="cb17-15" data-line-number="15"><span class="co">#&gt;  8          1428 de-10         1681</span></a>
<a class="sourceLine" id="cb17-16" data-line-number="16"><span class="co">#&gt;  9          1429 de-11          163</span></a>
<a class="sourceLine" id="cb17-17" data-line-number="17"><span class="co">#&gt; 10          1431 de-14a        6599</span></a>
<a class="sourceLine" id="cb17-18" data-line-number="18"><span class="co">#&gt; # â€¦ with 54 more rows</span></a></code></pre></div>
<p>More information about the specific deployments can be retrieved by <code><a href="../reference/get_deployments.html">get_deployments()</a></code> function. First we get the network projects involved:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1">networks_silurus &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb18-2" data-line-number="2"><span class="st">  </span>detections_silurus <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb18-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span>(network_project_code)</a>
<a class="sourceLine" id="cb18-4" data-line-number="4">networks_silurus</a>
<a class="sourceLine" id="cb18-5" data-line-number="5"><span class="co">#&gt; # A tibble: 3 x 1</span></a>
<a class="sourceLine" id="cb18-6" data-line-number="6"><span class="co">#&gt;   network_project_code</span></a>
<a class="sourceLine" id="cb18-7" data-line-number="7"><span class="co">#&gt;   &lt;chr&gt;               </span></a>
<a class="sourceLine" id="cb18-8" data-line-number="8"><span class="co">#&gt; 1 demer               </span></a>
<a class="sourceLine" id="cb18-9" data-line-number="9"><span class="co">#&gt; 2 zeeschelde          </span></a>
<a class="sourceLine" id="cb18-10" data-line-number="10"><span class="co">#&gt; 3 dijle</span></a></code></pre></div>
<p>and based on this information we can retrieve the metadata about the deployments. Be careful to set <code>open_only</code> equal to <code>FALSE</code> to get all deployments. To get the specific deployments, a filter on deploymentâ€™s primary key is needed:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">deployments_silurus &lt;-</a>
<a class="sourceLine" id="cb19-2" data-line-number="2"><span class="st">  </span><span class="co"># get all deployments from the involved networks</span></a>
<a class="sourceLine" id="cb19-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/get_deployments.html">get_deployments</a></span>(<span class="dt">network_project_code =</span> networks_silurus<span class="op">$</span>network_project_code,</a>
<a class="sourceLine" id="cb19-4" data-line-number="4">                  <span class="dt">open_only =</span> <span class="ot">FALSE</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb19-5" data-line-number="5"><span class="st">  </span><span class="co"># filter the deployments based on their unique identifier</span></a>
<a class="sourceLine" id="cb19-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(pk <span class="op">%in%</span><span class="st"> </span>detections_silurus<span class="op">$</span>deployment_fk)</a>
<a class="sourceLine" id="cb19-7" data-line-number="7"></a>
<a class="sourceLine" id="cb19-8" data-line-number="8">deployments_silurus</a>
<a class="sourceLine" id="cb19-9" data-line-number="9"><span class="co">#&gt; # A tibble: 64 x 39</span></a>
<a class="sourceLine" id="cb19-10" data-line-number="10"><span class="co">#&gt;       pk receiver_id application_type network_projectâ€¦ station_name</span></a>
<a class="sourceLine" id="cb19-11" data-line-number="11"><span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;       &lt;chr&gt;            &lt;chr&gt;            &lt;chr&gt;       </span></a>
<a class="sourceLine" id="cb19-12" data-line-number="12"><span class="co">#&gt;  1  1424 VR2W-122350 acoustic_telemeâ€¦ demer            de-1        </span></a>
<a class="sourceLine" id="cb19-13" data-line-number="13"><span class="co">#&gt;  2  1478 VR2W-122325 acoustic_telemeâ€¦ demer            de-2        </span></a>
<a class="sourceLine" id="cb19-14" data-line-number="14"><span class="co">#&gt;  3  1381 VR2W-122339 acoustic_telemeâ€¦ demer            de-3        </span></a>
<a class="sourceLine" id="cb19-15" data-line-number="15"><span class="co">#&gt;  4  2869 VR2W-122339 acoustic_telemeâ€¦ demer            de-3        </span></a>
<a class="sourceLine" id="cb19-16" data-line-number="16"><span class="co">#&gt;  5  1662 VR2W-122323 acoustic_telemeâ€¦ demer            de-4        </span></a>
<a class="sourceLine" id="cb19-17" data-line-number="17"><span class="co">#&gt;  6  1425 VR2W-122337 acoustic_telemeâ€¦ demer            de-5        </span></a>
<a class="sourceLine" id="cb19-18" data-line-number="18"><span class="co">#&gt;  7  1663 VR2W-122341 acoustic_telemeâ€¦ demer            de-6        </span></a>
<a class="sourceLine" id="cb19-19" data-line-number="19"><span class="co">#&gt;  8  1378 VR2W-122320 acoustic_telemeâ€¦ demer            de-7        </span></a>
<a class="sourceLine" id="cb19-20" data-line-number="20"><span class="co">#&gt;  9  1593 VR2W-122320 acoustic_telemeâ€¦ demer            de-7        </span></a>
<a class="sourceLine" id="cb19-21" data-line-number="21"><span class="co">#&gt; 10  1734 VR2W-122320 acoustic_telemeâ€¦ demer            de-7        </span></a>
<a class="sourceLine" id="cb19-22" data-line-number="22"><span class="co">#&gt; # â€¦ with 54 more rows, and 34 more variables: station_description &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb19-23" data-line-number="23"><span class="co">#&gt; #   station_manager &lt;chr&gt;, deploy_date_time &lt;dttm&gt;, deploy_latitude &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb19-24" data-line-number="24"><span class="co">#&gt; #   deploy_longitude &lt;dbl&gt;, intended_latitude &lt;dbl&gt;, intended_longitude &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb19-25" data-line-number="25"><span class="co">#&gt; #   mooring_type &lt;chr&gt;, bottom_depth &lt;chr&gt;, riser_length &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb19-26" data-line-number="26"><span class="co">#&gt; #   deploy_depth &lt;chr&gt;, battery_installation_date &lt;dttm&gt;,</span></a>
<a class="sourceLine" id="cb19-27" data-line-number="27"><span class="co">#&gt; #   battery_estimated_end_date &lt;dttm&gt;, activation_date_time &lt;dttm&gt;,</span></a>
<a class="sourceLine" id="cb19-28" data-line-number="28"><span class="co">#&gt; #   recover_date_time &lt;dttm&gt;, recover_latitude &lt;dbl&gt;, recover_longitude &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb19-29" data-line-number="29"><span class="co">#&gt; #   download_date_time &lt;dttm&gt;, download_file_name &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb19-30" data-line-number="30"><span class="co">#&gt; #   valid_data_until_date_time &lt;dttm&gt;, sync_date_time &lt;dttm&gt;, time_drift &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb19-31" data-line-number="31"><span class="co">#&gt; #   ar_battery_installation_date &lt;dttm&gt;, ar_confirm &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb19-32" data-line-number="32"><span class="co">#&gt; #   transmit_profile &lt;chr&gt;, transmit_power_output &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb19-33" data-line-number="33"><span class="co">#&gt; #   log_temperature_stats_period &lt;int&gt;, log_temperature_sample_period &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb19-34" data-line-number="34"><span class="co">#&gt; #   log_tilt_sample_period &lt;int&gt;, log_noise_stats_period &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb19-35" data-line-number="35"><span class="co">#&gt; #   log_noise_sample_period &lt;int&gt;, log_depth_stats_period &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb19-36" data-line-number="36"><span class="co">#&gt; #   log_depth_sample_period &lt;int&gt;, comments &lt;chr&gt;</span></a></code></pre></div>
<p>Deployment duration:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1">deployments_silurus_duration &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb20-2" data-line-number="2"><span class="st">  </span>deployments_silurus <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb20-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">duration =</span> recover_date_time <span class="op">-</span><span class="st"> </span>deploy_date_time) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb20-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(pk, station_name, duration)</a>
<a class="sourceLine" id="cb20-5" data-line-number="5">deployments_silurus_duration</a>
<a class="sourceLine" id="cb20-6" data-line-number="6"><span class="co">#&gt; # A tibble: 64 x 3</span></a>
<a class="sourceLine" id="cb20-7" data-line-number="7"><span class="co">#&gt;       pk station_name duration      </span></a>
<a class="sourceLine" id="cb20-8" data-line-number="8"><span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;        &lt;drtn&gt;        </span></a>
<a class="sourceLine" id="cb20-9" data-line-number="9"><span class="co">#&gt;  1  1424 de-1         275.00000 days</span></a>
<a class="sourceLine" id="cb20-10" data-line-number="10"><span class="co">#&gt;  2  1478 de-2         189.00000 days</span></a>
<a class="sourceLine" id="cb20-11" data-line-number="11"><span class="co">#&gt;  3  1381 de-3          45.00000 days</span></a>
<a class="sourceLine" id="cb20-12" data-line-number="12"><span class="co">#&gt;  4  2869 de-3          61.00000 days</span></a>
<a class="sourceLine" id="cb20-13" data-line-number="13"><span class="co">#&gt;  5  1662 de-4          49.00000 days</span></a>
<a class="sourceLine" id="cb20-14" data-line-number="14"><span class="co">#&gt;  6  1425 de-5         283.00000 days</span></a>
<a class="sourceLine" id="cb20-15" data-line-number="15"><span class="co">#&gt;  7  1663 de-6          57.00000 days</span></a>
<a class="sourceLine" id="cb20-16" data-line-number="16"><span class="co">#&gt;  8  1378 de-7         228.08333 days</span></a>
<a class="sourceLine" id="cb20-17" data-line-number="17"><span class="co">#&gt;  9  1593 de-7          18.91667 days</span></a>
<a class="sourceLine" id="cb20-18" data-line-number="18"><span class="co">#&gt; 10  1734 de-7          16.00000 days</span></a>
<a class="sourceLine" id="cb20-19" data-line-number="19"><span class="co">#&gt; # â€¦ with 54 more rows</span></a></code></pre></div>
<p>Number of days a deployment detected the passage of one or more fishes:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">n_active_days_deployments_silurus &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb21-2" data-line-number="2"><span class="st">  </span>detections_silurus <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb21-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">date =</span> <span class="kw"><a href="http://lubridate.tidyverse.org/reference/date.html">date</a></span>(date_time)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb21-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span>(deployment_fk, station_name, date) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb21-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(deployment_fk, station_name) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb21-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span>(<span class="dt">n_days =</span> <span class="kw"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span>())</a>
<a class="sourceLine" id="cb21-7" data-line-number="7"><span class="co">#&gt; `summarise()` regrouping output by 'deployment_fk' (override with `.groups` argument)</span></a>
<a class="sourceLine" id="cb21-8" data-line-number="8">n_active_days_deployments_silurus</a>
<a class="sourceLine" id="cb21-9" data-line-number="9"><span class="co">#&gt; # A tibble: 64 x 3</span></a>
<a class="sourceLine" id="cb21-10" data-line-number="10"><span class="co">#&gt; # Groups:   deployment_fk [64]</span></a>
<a class="sourceLine" id="cb21-11" data-line-number="11"><span class="co">#&gt;    deployment_fk station_name n_days</span></a>
<a class="sourceLine" id="cb21-12" data-line-number="12"><span class="co">#&gt;            &lt;int&gt; &lt;chr&gt;         &lt;int&gt;</span></a>
<a class="sourceLine" id="cb21-13" data-line-number="13"><span class="co">#&gt;  1          1378 de-7            125</span></a>
<a class="sourceLine" id="cb21-14" data-line-number="14"><span class="co">#&gt;  2          1379 s-2a              7</span></a>
<a class="sourceLine" id="cb21-15" data-line-number="15"><span class="co">#&gt;  3          1381 de-3              5</span></a>
<a class="sourceLine" id="cb21-16" data-line-number="16"><span class="co">#&gt;  4          1384 de-21            25</span></a>
<a class="sourceLine" id="cb21-17" data-line-number="17"><span class="co">#&gt;  5          1424 de-1              7</span></a>
<a class="sourceLine" id="cb21-18" data-line-number="18"><span class="co">#&gt;  6          1425 de-5             48</span></a>
<a class="sourceLine" id="cb21-19" data-line-number="19"><span class="co">#&gt;  7          1427 de-8            142</span></a>
<a class="sourceLine" id="cb21-20" data-line-number="20"><span class="co">#&gt;  8          1428 de-10            35</span></a>
<a class="sourceLine" id="cb21-21" data-line-number="21"><span class="co">#&gt;  9          1429 de-11            15</span></a>
<a class="sourceLine" id="cb21-22" data-line-number="22"><span class="co">#&gt; 10          1431 de-14a           59</span></a>
<a class="sourceLine" id="cb21-23" data-line-number="23"><span class="co">#&gt; # â€¦ with 54 more rows</span></a></code></pre></div>
<p>Relative detection duration, i.e.Â number of days with at least one detection divided by deployment duration:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1">n_active_days_deployments_silurus <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb22-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span>(deployments_silurus_duration,</a>
<a class="sourceLine" id="cb22-3" data-line-number="3">            <span class="dt">by =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"deployment_fk"</span> =<span class="st"> "pk"</span>, <span class="st">"station_name"</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb22-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">relative_detection_duration =</span> n_days <span class="op">/</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span>(duration)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb22-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(deployment_fk, station_name, relative_detection_duration)</a>
<a class="sourceLine" id="cb22-6" data-line-number="6"><span class="co">#&gt; # A tibble: 64 x 3</span></a>
<a class="sourceLine" id="cb22-7" data-line-number="7"><span class="co">#&gt; # Groups:   deployment_fk [64]</span></a>
<a class="sourceLine" id="cb22-8" data-line-number="8"><span class="co">#&gt;    deployment_fk station_name relative_detection_duration</span></a>
<a class="sourceLine" id="cb22-9" data-line-number="9"><span class="co">#&gt;            &lt;int&gt; &lt;chr&gt;                              &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb22-10" data-line-number="10"><span class="co">#&gt;  1          1378 de-7                              0.548 </span></a>
<a class="sourceLine" id="cb22-11" data-line-number="11"><span class="co">#&gt;  2          1379 s-2a                              0.0311</span></a>
<a class="sourceLine" id="cb22-12" data-line-number="12"><span class="co">#&gt;  3          1381 de-3                              0.111 </span></a>
<a class="sourceLine" id="cb22-13" data-line-number="13"><span class="co">#&gt;  4          1384 de-21                             0.373 </span></a>
<a class="sourceLine" id="cb22-14" data-line-number="14"><span class="co">#&gt;  5          1424 de-1                              0.0255</span></a>
<a class="sourceLine" id="cb22-15" data-line-number="15"><span class="co">#&gt;  6          1425 de-5                              0.170 </span></a>
<a class="sourceLine" id="cb22-16" data-line-number="16"><span class="co">#&gt;  7          1427 de-8                              0.623 </span></a>
<a class="sourceLine" id="cb22-17" data-line-number="17"><span class="co">#&gt;  8          1428 de-10                             0.114 </span></a>
<a class="sourceLine" id="cb22-18" data-line-number="18"><span class="co">#&gt;  9          1429 de-11                             0.0487</span></a>
<a class="sourceLine" id="cb22-19" data-line-number="19"><span class="co">#&gt; 10          1431 de-14a                            0.317 </span></a>
<a class="sourceLine" id="cb22-20" data-line-number="20"><span class="co">#&gt; # â€¦ with 54 more rows</span></a></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li><a href="#select-projects-of-interest">Select project(s) of interest</a></li>
      <li><a href="#data-exploration">Data exploration</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://twitter.com/peterdesmet">Peter Desmet</a>, <a href="https://twitter.com/damianozingaro">Damiano Oldoni</a>, <a href="https://twitter.com/SVanHoey">Stijn Van Hoey</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
